webpackJsonp([13],{QlfW:function(t,e){},cc1P:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("O6AN"),s=a("9s/b"),l={mounted:function(){this.getList()},data:function(){return{tabs:[{name:"1",label:"Vue"},{name:"2",label:"React"},{name:"3",label:"Angular"},{name:"4",label:"All"},{name:"5",label:"图表展示"}],listPostData:{type:"1",currentPage:1,currentSize:10},rules:{title:[{required:!0,message:"标题不能为空白",trigger:"blur"},{min:0,message:"内容不能为空白",trigger:"blur"}],content:[{required:!0,message:"内容不能为空白",trigger:"blur"}]},typeOptions:[{type:"1",label:"Vue"},{type:"2",label:"React"},{type:"3",label:"Angular"}],listInfo:null,addAlert:!1,addPostData:{type:"1",title:"",content:""},delAlert:!1,delId:"",editAlert:!1,editPostData:{type:"",title:"",content:""},editId:"",tableData:null,chartsData:[]}},methods:{getList:function(){var t=this;Object(i.a)("/mvvmGetList",this.listPostData).then(function(e){if(200===e.data.code&&(t.listInfo=e.data.body,"5"===t.listPostData.type&&t.listInfo)){t.tableData=t.screenToObject(t.listInfo.records),t.chartsData=t.screenToArray(t.listInfo.records);Object(s.a)("main",t.chartsData,["Vue","React","Angular","all"])}})},addListItem:function(){var t=this;Object(i.b)("/mvvmAddItem",this.addPostData).then(function(e){200===e.data.code&&(t.addAlert=!1,t.getList())})},delListItem:function(t){var e=this;Object(i.a)("/mvvmDelItem",{_id:t}).then(function(t){200===t.data.code?(e.$message.success(t.data.message),e.delAlert=!1,e.getList()):e.$message.error(t.data.message)})},getSingleItem:function(t){var e=this;Object(i.a)("/mvvmGetSinlgeItem",{_id:t}).then(function(a){200===a.data.code&&(e.editPostData.type=a.data.body[0].type,e.editPostData.title=a.data.body[0].title,e.editPostData.content=a.data.body[0].content,e.editAlert=!0,e.editId=t)})},editListItem:function(t){var e=this;Object(i.b)("/mvvmEditItem",{_id:t,title:this.editPostData.title,content:this.editPostData.content,type:this.editPostData.type}).then(function(t){200===t.data.code&&(e.getList(),e.editAlert=!1)})},handleSizeChange:function(t){this.listPostData.currentSize=t,this.getList()},handleCurrentChange:function(t){this.listPostData.currentPage=t,this.getList()},addItem:function(){this.addPostData.title="",this.addPostData.content="",this.addAlert=!0},addHandleClose:function(){this.addResetForm("ruleForm"),this.addAlert=!1},addRresetForm:function(t){this.$refs[t].resetFields()},addResetForm:function(t){this.$refs[t].resetFields()},addSubmitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.addListItem()})},delItem:function(t){this.delId=t,this.delAlert=!0},delSure:function(){this.delListItem(this.delId)},editItem:function(t){this.getSingleItem(t)},editHandleClose:function(){this.editResetForm("edit_ruleForm"),this.editAlert=!1,this.editPostData.tpye="",this.editPostData.title="",this.editPostData.content=""},editSubmitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.editListItem(e.editId),console.log(1)})},editResetForm:function(t){this.$refs[t].resetFields()},editReset:function(t){this.editResetForm(t),this.editPostData.tpye="",this.editPostData.title="",this.editPostData.content=""},screenToArray:function(t){if(0===t.length)return[];var e=t.filter(function(t){return"1"===t.type}).length,a=t.filter(function(t){return"2"===t.type}).length,i=t.filter(function(t){return"3"===t.type}).length;return[e,a,i,e+a+i]},screenToObject:function(t){if(0===t.length)return[];var e=t.filter(function(t){return"1"===t.type}).length,a=t.filter(function(t){return"2"===t.type}).length,i=t.filter(function(t){return"3"===t.type}).length;return[{type1:e,type2:a,type3:i,type4:e+a+i}]}},watch:{"listPostData.type":function(){this.getList()}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container_wrapper"},[a("p",{staticClass:"page-title"},[t._v("mvvm 框架的使用总结")]),t._v(" "),a("div",{staticClass:"add-wrap rel mb14",staticStyle:{height:"32px"}},[a("el-button",{staticClass:"addBtn",attrs:{type:"primary",size:"small"},on:{click:function(e){return e.stopPropagation(),t.addItem(e)}}},[t._v("添加")])],1),t._v(" "),a("el-tabs",{attrs:{type:"card"},model:{value:t.listPostData.type,callback:function(e){t.$set(t.listPostData,"type",e)},expression:"listPostData.type"}},t._l(t.tabs,function(t,e){return a("el-tab-pane",{key:e,attrs:{label:t.label,name:t.name}})})),t._v(" "),a("el-card",{directives:[{name:"show",rawName:"v-show",value:5!==Number.parseInt(t.listPostData.type),expression:"Number.parseInt(listPostData.type) !== 5"}],staticClass:"box-card card"},[t.listInfo?a("div",[a("el-collapse",{attrs:{accordion:""}},t._l(t.listInfo.records,function(e,i){return a("el-collapse-item",{key:i},[a("template",{slot:"title"},[a("div",{staticClass:"wrap rel"},[a("div",{staticStyle:{width:"10%"}},[t._v(t._s(e.id)+".")]),t._v(" "),a("div",{staticStyle:{width:"40%"}},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticStyle:{width:"30%"}},[t._v(t._s(t._f("formatDate")(e.date)))]),t._v(" "),a("div",{staticClass:"abs",staticStyle:{width:"127px",right:"40px"}},[a("el-button",{staticClass:"editBtn",attrs:{type:"primary",size:"mini"},on:{click:function(a){a.stopPropagation(),t.editItem(e._id)}}},[t._v("修改")]),t._v(" "),a("el-button",{staticClass:"delBtn",attrs:{type:"primary",size:"mini"},on:{click:function(a){a.stopPropagation(),t.delItem(e._id)}}},[t._v("删除")])],1)])]),t._v(" "),a("pre",{domProps:{textContent:t._s(e.content)}})],2)})),t._v(" "),a("div",{staticClass:"rel mt28 pagination-wrap"},[a("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.listInfo.currentPage,"page-sizes":[10,20,50,100],"page-size":t.listInfo.currentSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listInfo.totalrecord},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1):a("p",[t._v("该类型暂无数据")])]),t._v(" "),a("el-card",{directives:[{name:"show",rawName:"v-show",value:5===Number.parseInt(t.listPostData.type),expression:"Number.parseInt(listPostData.type) === 5"}],staticClass:"box-card card"},[t.listInfo?a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"type1",label:"Vue/条"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type2",label:"React/条"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type3",label:"Angular/条"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type4",label:"All/条"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.chartsData.length,expression:"chartsData.length"}],staticStyle:{height:"400px"},attrs:{id:"main"}})],1):a("p",[t._v("该类型暂无数据")])]),t._v(" "),a("div",{staticClass:"alert_wrapper"},[a("el-dialog",{attrs:{title:"添加列表item",visible:t.addAlert,"before-close":t.addHandleClose,width:"50%"},on:{"update:visible":function(e){t.addAlert=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.addPostData,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addPostData.type,callback:function(e){t.$set(t.addPostData,"type",e)},expression:"addPostData.type"}},t._l(t.typeOptions,function(t){return a("el-option",{key:t.type,attrs:{label:t.label,value:t.type}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:t.addPostData.title,callback:function(e){t.$set(t.addPostData,"title",e)},expression:"addPostData.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:"15"},model:{value:t.addPostData.content,callback:function(e){t.$set(t.addPostData,"content",e)},expression:"addPostData.content"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addSubmitForm("ruleForm")}}},[t._v("立即添加")]),t._v(" "),a("el-button",{on:{click:function(e){t.addRresetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"确定删除吗？",visible:t.delAlert,width:"50%"},on:{"update:visible":function(e){t.delAlert=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.delAlert=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.delSure}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"修改列表item",visible:t.editAlert,"before-close":t.editHandleClose,width:"50%"},on:{"update:visible":function(e){t.editAlert=e}}},[a("el-form",{ref:"edit_ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.editPostData,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editPostData.type,callback:function(e){t.$set(t.editPostData,"type",e)},expression:"editPostData.type"}},t._l(t.typeOptions,function(t){return a("el-option",{key:t.type,attrs:{label:t.label,value:t.type}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{model:{value:t.editPostData.title,callback:function(e){t.$set(t.editPostData,"title",e)},expression:"editPostData.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:"15"},model:{value:t.editPostData.content,callback:function(e){t.$set(t.editPostData,"content",e)},expression:"editPostData.content"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editSubmitForm("edit_ruleForm")}}},[t._v("修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.editReset("edit_ruleForm")}}},[t._v("重置")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var r=a("C7Lr")(l,n,!1,function(t){a("QlfW")},"data-v-080ffb6d",null);e.default=r.exports}});
//# sourceMappingURL=13.4d0d797616ed4ea37728.js.map